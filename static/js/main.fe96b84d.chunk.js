(this["webpackJsonpmine-sweeper"]=this["webpackJsonpmine-sweeper"]||[]).push([[0],{12:function(e,n,t){},14:function(e,n,t){"use strict";t.r(n);var i=t(1),r=t(5),a=t.n(r),c=t(2),f=t(4),o=(t(12),function(e,n){var t=Array(e).fill().map((function(n){return Array(e).fill(0)}));n.forEach((function(e){var n=Object(c.a)(e,2),i=n[0],r=n[1];t[i][r]="m"}));for(var i=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],r=function(e,n){var r=0;return i.forEach((function(i){var a=e+i[0],c=n+i[1];t[a]&&"m"===t[a][c]&&r++})),r},a=0;a<e;a++)for(var f=0;f<e;f++)0===t[a][f]&&(t[a][f]=r(a,f));return t}),l=function e(n,t,i){var r=n.length;if(!(t<0||t>=r||i<0||i>=r)){var a=n[t][i];0===a&&(n[t][i]="#",e(n,t-1,i),e(n,t+1,i),e(n,t,i-1),e(n,t,i+1)),a>0&&(n[t][i]="#".concat(a))}},s=function(e,n){if(n>=e*e)throw Error("way too many mines for the board");for(var t=[],i=new Set,r=0;r<n;r++){for(var a=i.size,c=void 0,f=void 0;a===i.size;){c=Math.floor(Math.random()*e),f=Math.floor(Math.random()*e);var o=String(c)+"-"+String(f);i.add(o)}t.push([c,f])}return t},u=function(e){for(var n=e.length,t=n*n,i=0,r=0;r<e.length;r++)for(var a=0;a<e.length;a++){var c=String(e[r][a]);(c.indexOf("#")>-1||c.indexOf("f")>-1)&&i++}return i===t},d=t(0),b=[{difficulty:"easy",boardSize:5,numOfMines:4,flags:7},{difficulty:"medium",boardSize:8,numOfMines:10,flags:12},{difficulty:"hard",boardSize:12,numOfMines:15,flags:16},{difficulty:"expert",boardSize:15,numOfMines:30,flags:31}];function j(){var e=Object(i.useState)(b[0]),n=Object(c.a)(e,2),t=n[0],r=n[1],a=Object(i.useState)(t.flags),j=Object(c.a)(a,2),O=j[0],h=j[1],m=Object(i.useState)(!1),p=Object(c.a)(m,2),v=p[0],g=p[1],y=Object(i.useState)(o(t.boardSize,s(t.boardSize,t.numOfMines))),x=Object(c.a)(y,2),S=x[0],M=x[1],w=Object(i.useState)("playing"),z=Object(c.a)(w,2),C=z[0],N=z[1];Object(i.useEffect)((function(){D()}),[t.difficulty]);var k=function(e,n){return"playing"!==C||String(S[e][n]).indexOf("#")>-1||String(S[e][n]).indexOf("f")>-1},E=function(e,n){var t=String(S[e][n]).replace("#","").replace("0","");return v&&"m"===t?"\ud83d\udca3":k(e,n)?"m"===t?"\ud83d\udca3":t.indexOf("f")>-1?"\ud83d\udea9":t:""},D=function(){N("playing"),h(t.flags),M(o(t.boardSize,s(t.boardSize,t.numOfMines)))};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("label",{htmlFor:"difficulty",children:"Choose a difficulty:"}),Object(d.jsx)("select",{className:"selectDifficulty",name:"difficulty",onChange:function(e){r(JSON.parse(e.target.value))},children:b.map((function(e,n){return Object(d.jsx)("option",{value:JSON.stringify(b[n]),children:e.difficulty},e.difficulty)}))}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"cheatMode",children:" Cheat mode"}),Object(d.jsx)("input",{type:"checkbox",name:"cheatMode",onChange:function(e){return g(e.target.checked)}}),Object(d.jsxs)("p",{children:["Flags: ",O]}),Object(d.jsxs)("p",{children:["Mines: ",t.numOfMines]}),Object(d.jsx)("button",{className:"restartBtn",onClick:D,children:"Restart game"}),Object(d.jsx)("div",{className:"board",children:S.map((function(e,n){return Object(d.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(d.jsx)("div",{className:"cell ".concat(k(n,t)?"revealed":"unvisited"," ").concat("#m"===S[n][t]&&"playing"!==C?"activeMine":"regularCell"),disabled:"playing"!==C,onClick:function(){return function(e,n){if("playing"===C){var t=String(S[e][n]);if(!(t.indexOf("f")>-1)){var i=Object(f.cloneDeep)(S);"m"===t?(i[e][n]="#m",N("lost")):l(i,e,n),M(i),u(i)&&N("won")}}}(n,t)},onContextMenu:function(e){return function(e,n,t){if(e.preventDefault(),"playing"===C){var i=String(S[n][t]);if(!(i.indexOf("#")>-1)){var r=Object(f.cloneDeep)(S);if(i.indexOf("f")>-1)return r[n][t]=i.replace("f",""),M(r),void h(O+1);O>0&&(r[n][t]=i+"f",M(r),h(O-1),u(r)&&N("won"))}}}(e,n,t)},children:E(n,t)},"cell-".concat(n,"-").concat(t))}))},"row-".concat(n))}))}),"playing"!==C&&Object(d.jsx)("div",{className:"info ".concat(C),onClick:D,children:Object(d.jsx)("p",{children:"you ".concat(C," (click here to play again)")})})]})}var O=document.getElementById("root");a.a.render(Object(d.jsx)(i.StrictMode,{children:Object(d.jsx)(j,{})}),O)}},[[14,1,2]]]);
//# sourceMappingURL=main.fe96b84d.chunk.js.map